{"version":3,"file":"useRefState.js","names":["_react","require","useRefState","initValue","value","setValue","useState","useMemo","current","newValue"],"sources":["../src/useRefState.js"],"sourcesContent":["import {\r\n  useMemo,\r\n  useState\r\n} from 'react';\r\n\r\n\r\n/**\r\n * Keeps ref value in state. Needs to force rendering when ref is changed.\r\n * It provides possibility to use `useEffect` for ref.\r\n * @param {any?} initValue Initial value\r\n * @returns {Object} `{ current }`. NEW OBJECT after ref value changes.\r\n * @example\r\n * const ref = useRefState(1);\r\n * useEffect(() => {\r\n *  console.log('REF IS CHANGED', ref.current);\r\n * }, [ref.current]);\r\n * const onClick = () => ref.current += 1;\r\n * // once onClick is called, then it will initiate state update,\r\n * // and new `ref` object will be created during new rendering cycle.\r\n */\r\nexport function useRefState(initValue) {\r\n  const [value, setValue] = useState(initValue);\r\n\r\n  return useMemo(\r\n    () => ({\r\n      get current() {\r\n        return value;\r\n      },\r\n      set current(newValue) {\r\n        if (value !== newValue) {\r\n          setValue(newValue);\r\n        }\r\n      },\r\n    }),\r\n    [value],\r\n  );\r\n}"],"mappings":";;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,WAAWA,CAACC,SAAS,EAAE;EACrC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAG,IAAAC,eAAQ,EAACH,SAAS,CAAC;EAE7C,OAAO,IAAAI,cAAO,EACZ,OAAO;IACL,IAAIC,OAAOA,CAAA,EAAG;MACZ,OAAOJ,KAAK;IACd,CAAC;IACD,IAAII,OAAOA,CAACC,QAAQ,EAAE;MACpB,IAAIL,KAAK,KAAKK,QAAQ,EAAE;QACtBJ,QAAQ,CAACI,QAAQ,CAAC;MACpB;IACF;EACF,CAAC,CAAC,EACF,CAACL,KAAK,CACR,CAAC;AACH","ignoreList":[]}