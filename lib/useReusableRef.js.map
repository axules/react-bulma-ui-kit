{"version":3,"file":"useReusableRef.js","names":["_react","require","useReusableRef","ref","initValue","undefined","useMemo","newRef","node","current","createRef"],"sources":["../src/useReusableRef.js"],"sourcesContent":["import {\r\n  createRef,\r\n  useMemo\r\n} from 'react';\r\n\r\n/**\r\n *  Returns passed ref or new ref object. It is needed when you component may work with forwardedRef,\r\n * but it is optional and you need to use the same element inside of component.\r\n * @param {Object|Function?} ref\r\n * @param {any?} initValue\r\n * @returns {Object|Function}\r\n * @example\r\n *\r\n * function Comp(props) {\r\n *   const { forwardedRef, children } = props;\r\n *   const mainRef = useReusableRef(forwardedRef);\r\n *   const onClick = () => console.log(mainRef.current.getBoundingClientRect());\r\n *\r\n *   return <div ref={mainRef}>I am your main element <button onClick={onClick}>Click me</button> {children}</div>;\r\n * }\r\n *\r\n * function ParentComp() {\r\n *  const cmpRef = useRef();\r\n *  // or\r\n *  // const cmpRef = () => {...}\r\n *  // cmpRef.current will be linked to `Comp.div` element\r\n *  return <Comp forwardedRef={cmpRef}>Hello!</Comp>\r\n * }\r\n */\r\nexport function useReusableRef(ref = undefined, initValue = undefined) {\r\n  return useMemo(\r\n    () => {\r\n      if (ref) {\r\n        if (typeof ref === 'function') {\r\n          const newRef = function (node) {\r\n            newRef.current = node;\r\n            ref(node);\r\n          };\r\n          newRef.current = initValue;\r\n          return newRef;\r\n        }\r\n        return ref;\r\n      }\r\n\r\n      return createRef(initValue);\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    []\r\n  );\r\n}"],"mappings":";;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,cAAcA,CAACC,GAAG,EAAcC,SAAS,EAAc;EAAA,IAAxCD,GAAG;IAAHA,GAAG,GAAGE,SAAS;EAAA;EAAA,IAAED,SAAS;IAATA,SAAS,GAAGC,SAAS;EAAA;EACnE,OAAO,IAAAC,cAAO,EACZ,MAAM;IACJ,IAAIH,GAAG,EAAE;MACP,IAAI,OAAOA,GAAG,KAAK,UAAU,EAAE;QAC7B,MAAMI,MAAM,GAAG,SAAAA,CAAUC,IAAI,EAAE;UAC7BD,MAAM,CAACE,OAAO,GAAGD,IAAI;UACrBL,GAAG,CAACK,IAAI,CAAC;QACX,CAAC;QACDD,MAAM,CAACE,OAAO,GAAGL,SAAS;QAC1B,OAAOG,MAAM;MACf;MACA,OAAOJ,GAAG;IACZ;IAEA,oBAAO,IAAAO,gBAAS,EAACN,SAAS,CAAC;EAC7B,CAAC;EACD;EACA,EACF,CAAC;AACH","ignoreList":[]}