{"version":3,"file":"useReusableRef.js","names":["_react","require","useReusableRef","ref","initValue","undefined","useMemo","newRef","node","current","createRef"],"sources":["../src/useReusableRef.js"],"sourcesContent":["import {\n  createRef,\n  useMemo\n} from 'react';\n\n/**\n *  Returns passed ref or new ref object. It is needed when you component may work with forwardedRef,\n * but it is optional and you need to use the same element inside of component.\n * @param {object|function?} ref\n * @param {any?} initValue\n * @returns {object|function}\n * @example\n *\n * function Comp(props) {\n *   const { forwardedRef, children } = props;\n *   const mainRef = useReusableRef(forwardedRef);\n *   const onClick = () => console.log(mainRef.current.getBoundingClientRect());\n *\n *   return <div ref={mainRef}>I am your main element <button onClick={onClick}>Click me</button> {children}</div>;\n * }\n *\n * function ParentComp() {\n *  const cmpRef = useRef();\n *  // or\n *  // const cmpRef = () => {...}\n *  // cmpRef.current will be linked to `Comp.div` element\n *  return <Comp forwardedRef={cmpRef}>Hello!</Comp>\n * }\n */\nexport function useReusableRef(ref = undefined, initValue = undefined) {\n  return useMemo(\n    () => {\n      if (ref) {\n        if (typeof ref === 'function') {\n          const newRef = function (node) {\n            newRef.current = node;\n            ref(node);\n          };\n          newRef.current = initValue;\n          return newRef;\n        }\n        return ref;\n      }\n\n      return createRef(initValue);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n}"],"mappings":";;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,cAAcA,CAACC,GAAG,EAAcC,SAAS,EAAc;EAAA,IAAxCD,GAAG;IAAHA,GAAG,GAAGE,SAAS;EAAA;EAAA,IAAED,SAAS;IAATA,SAAS,GAAGC,SAAS;EAAA;EACnE,OAAO,IAAAC,cAAO,EACZ,MAAM;IACJ,IAAIH,GAAG,EAAE;MACP,IAAI,OAAOA,GAAG,KAAK,UAAU,EAAE;QAC7B,MAAMI,MAAM,GAAG,SAAAA,CAAUC,IAAI,EAAE;UAC7BD,MAAM,CAACE,OAAO,GAAGD,IAAI;UACrBL,GAAG,CAACK,IAAI,CAAC;QACX,CAAC;QACDD,MAAM,CAACE,OAAO,GAAGL,SAAS;QAC1B,OAAOG,MAAM;MACf;MACA,OAAOJ,GAAG;IACZ;IAEA,oBAAO,IAAAO,gBAAS,EAACN,SAAS,CAAC;EAC7B,CAAC;EACD;EACA,EACF,CAAC;AACH","ignoreList":[]}