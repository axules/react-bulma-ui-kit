{"version":3,"file":"useChangeEvent.js","names":["_react","require","useChangeEvent","handler","dependencies","currentValue","useRef","useEffect","current","result"],"sources":["../src/useChangeEvent.js"],"sourcesContent":["import {\n  useEffect,\n  useRef\n} from 'react';\n\n/**\n * Calls handler ONLY when dependencies were changed. Does not call handler the first time like it does useEffect.\n *\n * @param {function(array, array)} handler handler(prevDeps, currentDeps)\n * @param {array} dependencies dependencies like for useEffect\n *\n * @example\n * useEffect(() => console.log('!'), [deps1, deps2]);\n * // useEffect calls handler after the first render and once deps are changed\n *\n * useChangeEvent(() => console.log('!'), [deps1, deps2]);\n * // useChangeEvent calls handler ONLY once deps are changed\n */\nexport function useChangeEvent(handler, dependencies) {\n  const currentValue = useRef();\n\n  return useEffect(() => {\n    // if it is not the first useEffect call\n    if (currentValue.current) {\n      // const changed = currentValue.current.some((it, n) => it !== dependencies[n]);\n      // if (changed) {\n      // call callback with the previous values\n      const result = handler(currentValue.current, dependencies);\n      currentValue.current = dependencies;\n      return result;\n      // }\n    } else {\n      // do nothing the first call - component initialize\n      currentValue.current = dependencies;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, dependencies);\n}"],"mappings":";;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,cAAcA,CAACC,OAAO,EAAEC,YAAY,EAAE;EACpD,MAAMC,YAAY,GAAG,IAAAC,aAAM,EAAC,CAAC;EAE7B,OAAO,IAAAC,gBAAS,EAAC,MAAM;IACrB;IACA,IAAIF,YAAY,CAACG,OAAO,EAAE;MACxB;MACA;MACA;MACA,MAAMC,MAAM,GAAGN,OAAO,CAACE,YAAY,CAACG,OAAO,EAAEJ,YAAY,CAAC;MAC1DC,YAAY,CAACG,OAAO,GAAGJ,YAAY;MACnC,OAAOK,MAAM;MACb;IACF,CAAC,MAAM;MACL;MACAJ,YAAY,CAACG,OAAO,GAAGJ,YAAY;IACrC;IACA;EACF,CAAC,EAAEA,YAAY,CAAC;AAClB","ignoreList":[]}