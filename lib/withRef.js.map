{"version":3,"file":"withRef.js","names":["_react","require","_jsxRuntime","withForwardedRef","WrappedComponent","withRef","propName","Wrapper","forwardRef","props","ref","Error","jsx","displayName","name","type"],"sources":["../src/withRef.js"],"sourcesContent":["import { forwardRef } from 'react';\n\n/**\n * Adds `forwardedRef` prop to component. Uses `react.forwardRef`.\n *\n * @param {React.Component} WrappedComponent\n * @returns\n */\nexport function withForwardedRef(WrappedComponent) {\n  return withRef('forwardedRef')(WrappedComponent);\n}\n\nfunction withRef(propName) {\n  return function (WrappedComponent) {\n    const Wrapper = forwardRef((props, ref) => {\n      if (ref && props[propName]) {\n        throw new Error(`withRef error: forwarded ref property collision (property name is '${propName}')`);\n      }\n      return <WrappedComponent {...props} {...{ [propName]: ref || props[propName] }} />;\n    });\n\n    Wrapper.displayName = `WithRef(${WrappedComponent.displayName || WrappedComponent.name || 'Component'})`;\n    Wrapper.type = WrappedComponent;\n\n    return Wrapper;\n  };\n}\n"],"mappings":";;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAAmC,IAAAC,WAAA,GAAAD,OAAA;AAEnC;AACA;AACA;AACA;AACA;AACA;AACO,SAASE,gBAAgBA,CAACC,gBAAgB,EAAE;EACjD,OAAOC,OAAO,CAAC,cAAc,CAAC,CAACD,gBAAgB,CAAC;AAClD;AAEA,SAASC,OAAOA,CAACC,QAAQ,EAAE;EACzB,OAAO,UAAUF,gBAAgB,EAAE;IACjC,MAAMG,OAAO,gBAAG,IAAAC,iBAAU,EAAC,CAACC,KAAK,EAAEC,GAAG,KAAK;MACzC,IAAIA,GAAG,IAAID,KAAK,CAACH,QAAQ,CAAC,EAAE;QAC1B,MAAM,IAAIK,KAAK,yEAAuEL,QAAQ,OAAI,CAAC;MACrG;MACA,oBAAO,IAAAJ,WAAA,CAAAU,GAAA,EAACR,gBAAgB;QAAA,GAAKK,KAAK;QAAQ,CAACH,QAAQ,GAAGI,GAAG,IAAID,KAAK,CAACH,QAAQ;MAAC,CAAK,CAAC;IACpF,CAAC,CAAC;IAEFC,OAAO,CAACM,WAAW,iBAAcT,gBAAgB,CAACS,WAAW,IAAIT,gBAAgB,CAACU,IAAI,IAAI,WAAW,OAAG;IACxGP,OAAO,CAACQ,IAAI,GAAGX,gBAAgB;IAE/B,OAAOG,OAAO;EAChB,CAAC;AACH","ignoreList":[]}