{"version":3,"file":"withRef.js","names":["_react","require","_jsxRuntime","withForwardedRef","WrappedComponent","withRef","propName","Wrapper","forwardRef","props","ref","Error","jsx","displayName","name"],"sources":["../src/withRef.js"],"sourcesContent":["import { forwardRef } from 'react';\r\n\r\n/**\r\n * Adds `forwardedRef` prop to component. Uses `react.forwardRef`.\r\n * @param {React Component} WrappedComponent\r\n * @returns\r\n */\r\nexport function withForwardedRef(WrappedComponent) {\r\n  return withRef('forwardedRef')(WrappedComponent);\r\n}\r\n\r\nfunction withRef(propName) {\r\n  return function (WrappedComponent) {\r\n    const Wrapper = forwardRef((props, ref) => {\r\n      if (ref && props[propName]) {\r\n        throw new Error(`withRef error: forwarded ref property collision (property name is '${propName}')`);\r\n      }\r\n      return <WrappedComponent {...props} {...{ [propName]: ref || props[propName] }} />;\r\n    });\r\n\r\n    Wrapper.displayName = `WithRef(${WrappedComponent.displayName || WrappedComponent.name || 'Component'})`;\r\n\r\n    return Wrapper;\r\n  };\r\n}\r\n"],"mappings":";;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAAmC,IAAAC,WAAA,GAAAD,OAAA;AAEnC;AACA;AACA;AACA;AACA;AACO,SAASE,gBAAgBA,CAACC,gBAAgB,EAAE;EACjD,OAAOC,OAAO,CAAC,cAAc,CAAC,CAACD,gBAAgB,CAAC;AAClD;AAEA,SAASC,OAAOA,CAACC,QAAQ,EAAE;EACzB,OAAO,UAAUF,gBAAgB,EAAE;IACjC,MAAMG,OAAO,gBAAG,IAAAC,iBAAU,EAAC,CAACC,KAAK,EAAEC,GAAG,KAAK;MACzC,IAAIA,GAAG,IAAID,KAAK,CAACH,QAAQ,CAAC,EAAE;QAC1B,MAAM,IAAIK,KAAK,yEAAuEL,QAAQ,OAAI,CAAC;MACrG;MACA,oBAAO,IAAAJ,WAAA,CAAAU,GAAA,EAACR,gBAAgB;QAAA,GAAKK,KAAK;QAAQ,CAACH,QAAQ,GAAGI,GAAG,IAAID,KAAK,CAACH,QAAQ;MAAC,CAAK,CAAC;IACpF,CAAC,CAAC;IAEFC,OAAO,CAACM,WAAW,iBAAcT,gBAAgB,CAACS,WAAW,IAAIT,gBAAgB,CAACU,IAAI,IAAI,WAAW,OAAG;IAExG,OAAOP,OAAO;EAChB,CAAC;AACH","ignoreList":[]}